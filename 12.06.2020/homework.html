<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            margin: 10vmin;
            margin-top: 0;
            margin-left: calc(50vw - 45vmin);
            background-color: black;
            color: blueviolet;
            font-weight: 900;
            font-size: 1.5em;

            counter-reset: left right;
        }

        /*шахматное поле*/
        body>div:nth-of-type(1) {
            display: flex;
            flex-wrap: wrap;

            width: 80vmin;
            height: 80vmin;
            outline: 1px solid green;
            background-color: ivory;
        }

        div>div {
            width: 10vmin;
            height: 10vmin;

        }

        div>div:nth-of-type(16n+1),
        div>div:nth-of-type(16n+3),
        div>div:nth-of-type(16n+5),
        div>div:nth-of-type(16n+7),

        div>div:nth-last-of-type(16n+1),
        div>div:nth-last-of-type(16n+3),
        div>div:nth-last-of-type(16n+5),
        div>div:nth-last-of-type(16n+7) {
            background-color: green;
        }


        div>div:nth-of-type(8n)::before,
        div>div:nth-of-type(8n+1)::before {
            display: flex;
            justify-content: center;
            align-items: center;

            width: 10vmin;
            height: 10vmin;
            outline: 1px solid green;
            color: grey;
            position: relative;
        }

        div>div:nth-of-type(8n)::before {
            left: 10vmin;
            counter-increment: left;
            content: counter(left) "";
        }

        div>div:nth-of-type(8n+1)::before {
            left: -10vmin;
            counter-increment: right;
            content: counter(right) "";
        }

        body>div:nth-of-type(1)::after,
        body::before {
            content: " abcdefgh";
            display: flex;
            justify-content: space-between;
            letter-spacing: 8vmin;
            padding-left: 3vmin;
            align-items: center;

            height: 10vmin;
            width: 77vmin;
            /*80vmin - 3vmin(padding-left)*/
            outline: 1px solid green;
            color: grey;

        }

        /*расстановка шахматных фигур*/
        /* шахматы */
        /* body>div>div:nth-child(-n+16),
            body>div>div:nth-last-child(-n+16){
            background-image: url('img.png');
            background-repeat: no-repeat;
            background-size: calc(10vmin*6);
            width: 10vmin;
            height: 10vmin;
        } */

        /* белые */
        /* body>div>div:nth-last-child(1),
        body>div>div:nth-last-child(8){
            background-position: calc(-10.4vmin * 2) calc(-20vmin/2);
        } */

        /* body>div>div:nth-last-child(2),
        body>div>div:nth-last-child(7){
            background-position: calc(-10.4vmin * 4) calc(-20vmin/2);
        } */

        body>div>div:nth-last-child(3),
        body>div>div:nth-last-child(6) {
            background-position: calc(-10.4vmin * 3) calc(-20vmin/2);
        }

        body>div>div:nth-last-child(5) {
            background-position: calc(-10.4vmin * 1) calc(-20vmin/2);
        }

        body>div>div:nth-last-child(4) {
            background-position: calc(-10.4vmin * 0) calc(-20vmin/2);
        }

        /* черные */

        /* body>div>div:nth-child(1),
        body>div>div:nth-child(8){
            background-position: calc(-10.4vmin * 2) 0;
        } */

        /* body>div>div:nth-child(2),
        body>div>div:nth-child(7){
            background-position: calc(-10.4vmin * 4) 0;
        } */

        /* body>div>div:nth-child(3),
        body>div>div:nth-child(6){
            background-position: calc(-10.4vmin * 3) 0;
        } */

        /* body>div>div:nth-child(4) {
            background-position: calc(-10.4vmin * 1) 0;
        }

        body>div>div:nth-child(5) {
            background-position: calc(-10.4vmin * 0) 0;
        } */

        /* пешки */
        /* body>div>div:nth-last-child(9),
        body>div>div:nth-last-child(10),
        body>div>div:nth-last-child(11),
        body>div>div:nth-last-child(12),
        body>div>div:nth-last-child(13),
        body>div>div:nth-last-child(14),
        body>div>div:nth-last-child(15),
        body>div>div:nth-last-child(16) {
            background-position: calc(-10.4vmin * 5) calc(-20vmin/2);
        } */

        /* body>div>div:nth-child(9),
        body>div>div:nth-child(10),
        body>div>div:nth-child(11),
        body>div>div:nth-child(12),
        body>div>div:nth-child(13),
        body>div>div:nth-child(14),
        body>div>div:nth-child(15),
        body>div>div:nth-child(16) {
            background-position: calc(-10.4vmin * 5) 0;
        } */

        .active {
            outline: 5px solid red;
            z-index: 5;
            background-repeat: no-repeat;
            background-size: calc(10vmin*6); 
            width: 10vmin;

        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6); 
        background-position: calc(-10.4vmin * 2) 0"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);    
        background-position: calc(-10.4vmin * 4) 0"></div>
        <div style="background-image: url('img.png');
         background-repeat: no-repeat;
         background-size: calc(10vmin*6);    
         background-position: calc(-10.4vmin * 3) 0;"></div>
        <div style="background-image: url('img.png');
         background-repeat: no-repeat;
         background-size: calc(10vmin*6);    
         background-position: calc(-10.4vmin * 1) 0;"></div>
        <div style="background-image: url('img.png');
         background-repeat: no-repeat;
         background-size: calc(10vmin*6);    
         background-position: calc(-10.4vmin * 1) 1;"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);    
        background-position: calc(-10.4vmin * 3) 0;"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);    
        background-position: calc(-10.4vmin * 4) 0"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);
        width: 10vmin;
        height: 10vmin;
        background-position: calc(-10.4vmin * 2) 0"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);   
        background-position: calc(-10.4vmin * 5) 0"></div>
        <div style="background-image: url('img.png');
         background-repeat: no-repeat;
         background-size: calc(10vmin*6);   
         background-position: calc(-10.4vmin * 5) 0"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);   
        background-position: calc(-10.4vmin * 5) 0"></div>
        <div style="background-image: url('img.png');
          background-repeat: no-repeat;
          background-size: calc(10vmin*6);   
          background-position: calc(-10.4vmin * 5) 0"></div>
        <div style="background-image: url('img.png');
            background-repeat: no-repeat;
            background-size: calc(10vmin*6);   
            background-position: calc(-10.4vmin * 5) 0"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);   
        background-position: calc(-10.4vmin * 5) 0"></div>
        <div style="background-image: url('img.png');
          background-repeat: no-repeat;
          background-size: calc(10vmin*6);   
          background-position: calc(-10.4vmin * 5) 0"></div>
        <div style="background-image: url('img.png');
           background-repeat: no-repeat;
           background-size: calc(10vmin*6);   
           background-position: calc(-10.4vmin * 5) 0"></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);  
        background-position: calc(-10.4vmin * 5) calc(-20vmin/2)"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);  
        background-position: calc(-10.4vmin * 5) calc(-20vmin/2)"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);  
        background-position: calc(-10.4vmin * 5) calc(-20vmin/2)"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);  
        background-position: calc(-10.4vmin * 5) calc(-20vmin/2)"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);  
        background-position: calc(-10.4vmin * 5) calc(-20vmin/2)"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);  
        background-position: calc(-10.4vmin * 5) calc(-20vmin/2)"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);  
        background-position: calc(-10.4vmin * 5) calc(-20vmin/2)"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);  
        background-position: calc(-10.4vmin * 5) calc(-20vmin/2)"></div>
         <div style="background-image: url('img.png');
         background-repeat: no-repeat;
         background-size: calc(10vmin*6); 
         background-position: calc(-10.4vmin * 2) calc(-20vmin/2)"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);    
        background-position: calc(-10.4vmin * 4) calc(-20vmin/2)"></div>
         <div style="background-image: url('img.png');
         background-repeat: no-repeat;
         background-size: calc(10vmin*6);    
         background-position: calc(-10.4vmin * 3) calc(-20vmin/2);"></div>
         <div style="background-image: url('img.png');
         background-repeat: no-repeat;
         background-size: calc(10vmin*6);    
         background-position: calc(-10.4vmin * 1) calc(-20vmin/2);;"></div>
        <div style="background-image: url('img.png');
         background-repeat: no-repeat;
         background-size: calc(10vmin*6);    
         background-position: calc(-10.4vmin * 1) 1;"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);    
        background-position: calc(-10.4vmin * 3) calc(-20vmin/2);"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6);    
        background-position: calc(-10.4vmin * 4) calc(-20vmin/2)"></div>
        <div style="background-image: url('img.png');
        background-repeat: no-repeat;
        background-size: calc(10vmin*6); 
        background-position: calc(-10.4vmin * 2) calc(-20vmin/2)"></div>
    </div>


    <script>
        var element = document.querySelector('div.wrapper');
        var myChildElemet = element.getElementsByTagName("div");

        var myElement = null;


        for (var i = 0; i < myChildElemet.length; i++) {
            myChildElemet[i].addEventListener('click', function (e) {
                if (myElement === null) {
                    myElement = e.target;
                    console.log(myElement);
                    myElement.classList.add("active");

                } else {
                    console.log(e.target.style.backgroundImage);
                    var tnpOrder = myElement.style.backgroundImage;
                    myElement.style.backgroundImage = e.target.style.backgroundImage;
                    e.target.style.backgroundImage = tnpOrder;
                    myElement.classList.remove("active");
                    myElement = null;
                }

            })
        }
    </script>
</body>

</html>